<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle en Español</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background-color: #121213;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        h1 {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 20px 0;
            text-align: center;
            border-bottom: 1px solid #3a3a3c;
            padding-bottom: 10px;
            width: 100%;
            max-width: 500px;
        }
        
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        
        .board {
            display: grid;
            grid-template-rows: repeat(6, 1fr);
            gap: 5px;
            margin: 20px 0;
        }
        
        .row {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 5px;
        }
        
        .cell {
            width: 62px;
            height: 62px;
            border: 2px solid #3a3a3c;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            text-transform: uppercase;
            background-color: #121213;
            color: white;
            transition: all 0.1s ease;
        }
        
        .cell:not(:empty) {
            border-color: #565758;
        }
        
        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes flip {
            0% { transform: rotateX(0); }
            50% { transform: rotateX(90deg); }
            100% { transform: rotateX(0); }
        }
        
        .message {
            height: 30px;
            font-size: 1.2rem;
            text-align: center;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>WORDLE</h1>
    
    <div class="game-container">
        <div class="board" id="board">
            <!-- Las filas se generarán con JavaScript -->
        </div>
        
        <div class="message" id="message"></div>
    </div>

    <script>
        // Banco de palabras en español de 5 letras
        const PALABRAS_POSIBLES = [
            'ABETO', 'ABONO', 'ABRIL', 'ACEITE', 'ACTOR', 'ADIOS', 'AFORO', 'AGAVE', 'AGUJA', 'AHORA', 'AJENO', 'ALAMO', 'ALBUM', 'ALFIL', 'ALGAS', 'ALIEN', 'ALTAR', 'AMADO', 'AMAGO', 'AMBOS', 'AMPLI', 'ANCLA', 'ANGEL', 'ANIMO', 'ANTRO', 'APODO', 'ARENA', 'ARIDO', 'ARNES', 'ASADO', 'ATLAS', 'AUDIO', 'AVENA', 'AVION', 'AYUDA', 'AZTEC', 'BAILE', 'BANDA', 'BARON', 'BARCO', 'BATON', 'BELLO', 'BINGO', 'BLUSA', 'BOMBA', 'BORDE', 'BRAVO', 'BROTE', 'BUENO', 'BUSCA', 'CABAL', 'CABRE', 'CACAO', 'CADIZ', 'CAIDA', 'CALMA', 'CAMPO', 'CAOBA', 'CARGA', 'CARNE', 'CARTA', 'CAUCE', 'CAUSE', 'CEBRA', 'CERCO', 'CHICA', 'CHINO', 'CIELO', 'CINCO', 'CINTA', 'CIRCO', 'CLARO', 'COSTA', 'CREMA', 'CUEVA', 'CURSO', 'DANZA', 'DATOS', 'DEJAR', 'DESEO', 'DIETA', 'DIGNO', 'DISCO', 'DOLOR', 'DONAR', 'DRAMA', 'DUCHA', 'DULCE', 'EBANO', 'EDWIN', 'ELENA', 'ENERO', 'ENTRE', 'EPOCA', 'ERROR', 'ETICA', 'ETNIA', 'EURO', 'EXTRA', 'FALDA', 'FANGO', 'FECHA', 'FELIZ', 'FERIA', 'FIBRA', 'FINCA', 'FLACO', 'FLAMA', 'FLORA', 'FORMA', 'FRASE', 'FRENO', 'FRUTO', 'FUEGO', 'FUERA', 'FURIA', 'GANAR', 'GATOS', 'GENIO', 'GENTE', 'GIRAR', 'GLOBO', 'GORRA', 'GRADO', 'GRANO', 'GRAPA', 'GRASA', 'GRAVE', 'GRIPE', 'GRUPO', 'GUANO', 'GUAPO', 'GUION', 'GUSANO', 'HABER', 'HABLA', 'HACIA', 'HAITI', 'HARTA', 'HASTA', 'HELIO', 'HIELO', 'HIERRO', 'HIMNO', 'HOGAR', 'HONGO', 'HONOR', 'HOTEL', 'HUCHA', 'HUESO', 'HUMOR', 'IDEAL', 'IGUAL', 'INDIA', 'INDIO', 'INGLES', 'INTRO', 'JABON', 'JAMON', 'JARDIN', 'JOVEN', 'JUEGO', 'JUNTO', 'KIWIS', 'LAVAR', 'LEMON', 'LETRA', 'LIBRE', 'LIBRO', 'LINEA', 'LISTA', 'LLAMA', 'LLANO', 'LLUVIA', 'LOCAL', 'LOGRO', 'LUCHA', 'LUGAR', 'LUNAR', 'MADRE', 'MAGIA', 'MALTA', 'MANDO', 'MANGO', 'MANOS', 'MAPLE', 'MARCA', 'MARZO', 'MAYOR', 'MELON', 'MENOR', 'METRO', 'MICRO', 'MIRAR', 'MIXED', 'MODAL', 'MORAL', 'MORIR', 'MOVER', 'MUCHO', 'MUNDO', 'MUSGO', 'NACER', 'NEGRO', 'NIEVE', 'NIVEL', 'NOBLE', 'NOCHE', 'NORTE', 'NOVIA', 'NUEVO', 'NUNCA', 'OCASO', 'OCEAN', 'ODIAR', 'OESTE', 'OPERA', 'ORDEN', 'OREJA', 'OSITO', 'OTROS', 'OVALO', 'PADRE', 'PAGAR', 'PAGINA', 'PALMA', 'PANDA', 'PANEL', 'PAPEL', 'PARIS', 'PARTE', 'PASAR', 'PASTA', 'PATATA', 'PATIO', 'PAUSA', 'PEACE', 'PECHO', 'PEDIR', 'PELEA', 'PELLA', 'PERRO', 'PIANO', 'PICAR', 'PIEZA', 'PINTA', 'PIZZA', 'PLANO', 'PLATA', 'PLAYA', 'PLAZA', 'PLUMA', 'PODER', 'POEMA', 'POETA', 'POKER', 'POLO', 'PONTE', 'PRECIO', 'PRIMA', 'PRIMO', 'PROFE', 'PUNTO', 'QUESO', 'QUIEN', 'QUITO', 'RADIO', 'RAMAT', 'RANGO', 'RAPOR', 'RATIO', 'RATON', 'RAZON', 'REINA', 'REINO', 'RELOJ', 'RESTO', 'RIFLE', 'RITMO', 'ROBLE', 'ROBOT', 'RONDA', 'ROSAS', 'RUGBY', 'RUIDO', 'SABER', 'SABOR', 'SALON', 'SALUD', 'SANTA', 'SANTO', 'SECAR', 'SEGUN', 'SELVA', 'SEÑOR', 'SERIE', 'SIGLO', 'SILLA', 'SOBRE', 'SODA', 'SOFIA', 'SOLAR', 'SONGE', 'SONIA', 'SUPER', 'TABLE', 'TACTO', 'TANGO', 'TANTO', 'TARDE', 'TECLA', 'TENIS', 'TERRA', 'TEXTO', 'TIEMPO', 'TIGER', 'TINTA', 'TITAN', 'TIZÓN', 'TODAS', 'TOKYO', 'TOMAR', 'TOQUE', 'TORRE', 'TOTAL', 'TOTEM', 'TRAGO', 'TRATO', 'TRECE', 'TRIGO', 'TRINO', 'TRONO', 'TUBER', 'TUMOR', 'ULTRA', 'UNION', 'URBAN', 'USUAL', 'VACIO', 'VALER', 'VALLE', 'VALOR', 'VAPOR', 'VECES', 'VENDA', 'VERDE', 'VIDEO', 'VIEJO', 'VILLA', 'VIRUS', 'VISTA', 'VIVIR', 'VOCAL', 'VODKA', 'VOLAR', 'WALES', 'WHALE', 'WORLD', 'YACHT', 'YOGA', 'ZEBRA', 'ZORRO'
        ];
        
        // Variables del juego
        let currentRow = 0;
        let currentCol = 0;
        let currentGuess = '';
        let targetWord = '';
        let gameOver = false;
        
        // Seleccionar palabra aleatoria al iniciar
        function selectRandomWord() {
            const randomIndex = Math.floor(Math.random() * PALABRAS_POSIBLES.length);
            targetWord = PALABRAS_POSIBLES[randomIndex];
            console.log('Palabra secreta:', targetWord); // Para debugging (quitar en producción)
        }
        
        // Verificar si una palabra existe en el diccionario
        function isValidWord(word) {
            return PALABRAS_POSIBLES.includes(word.toUpperCase());
        }
        
        // Inicializar el tablero
        function initBoard() {
            const board = document.getElementById('board');
            
            for (let i = 0; i < 6; i++) {
                const row = document.createElement('div');
                row.className = 'row';
                row.id = `row-${i}`;
                
                for (let j = 0; j < 5; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.id = `cell-${i}-${j}`;
                    row.appendChild(cell);
                }
                
                board.appendChild(row);
            }
        }
        
        // Función para agregar una letra al tablero
        function addLetter(letter) {
            if (currentCol < 5 && !gameOver) {
                const cell = document.getElementById(`cell-${currentRow}-${currentCol}`);
                cell.textContent = letter.toUpperCase();
                currentGuess += letter.toUpperCase();
                currentCol++;
                
                // Agregar animación de escritura
                cell.style.animation = 'pop 0.1s ease-in-out';
                setTimeout(() => {
                    cell.style.animation = '';
                }, 100);
            }
        }
        
        // Función para eliminar una letra
        function deleteLetter() {
            if (currentCol > 0 && !gameOver) {
                currentCol--;
                const cell = document.getElementById(`cell-${currentRow}-${currentCol}`);
                cell.textContent = '';
                currentGuess = currentGuess.slice(0, -1);
            }
        }
        
        // Función para evaluar la palabra y colorear las celdas
        function evaluateGuess() {
            const guess = currentGuess;
            const target = targetWord;
            const result = [];
            
            // Crear array para marcar letras ya utilizadas
            const targetLetters = target.split('');
            const usedPositions = new Array(5).fill(false);
            
            // Primera pasada: marcar letras correctas (verdes)
            for (let i = 0; i < 5; i++) {
                if (guess[i] === target[i]) {
                    result[i] = 'correct';
                    usedPositions[i] = true;
                }
            }
            
            // Segunda pasada: marcar letras en posición incorrecta (amarillas) y incorrectas (grises)
            for (let i = 0; i < 5; i++) {
                if (result[i] !== 'correct') {
                    let found = false;
                    for (let j = 0; j < 5; j++) {
                        if (!usedPositions[j] && guess[i] === target[j] && result[j] !== 'correct') {
                            result[i] = 'present';
                            usedPositions[j] = true;
                            found = true;
                            break;
                        }
                    }
                    if (!found) {
                        result[i] = 'absent';
                    }
                }
            }
            
            return result;
        }
        
        // Función para colorear las celdas según el resultado
        function colorCells(result) {
            for (let i = 0; i < 5; i++) {
                const cell = document.getElementById(`cell-${currentRow}-${i}`);
                
                setTimeout(() => {
                    cell.style.animation = 'flip 0.6s ease-in-out';
                    
                    setTimeout(() => {
                        if (result[i] === 'correct') {
                            cell.style.backgroundColor = '#6aaa64'; // Verde
                            cell.style.borderColor = '#6aaa64';
                        } else if (result[i] === 'present') {
                            cell.style.backgroundColor = '#c9b458'; // Amarillo
                            cell.style.borderColor = '#c9b458';
                        } else {
                            cell.style.backgroundColor = '#787c7e'; // Gris
                            cell.style.borderColor = '#787c7e';
                        }
                        cell.style.color = 'white';
                    }, 300);
                }, i * 100);
            }
        }
        
        // Función para procesar Enter
        function submitGuess() {
            if (gameOver) return;
            
            if (currentGuess.length === 5) {
                if (isValidWord(currentGuess)) {
                    const result = evaluateGuess();
                    colorCells(result);
                    
                    // Verificar si ganó
                    if (currentGuess === targetWord) {
                        setTimeout(() => {
                            showMessage(`¡Felicidades! La palabra era ${targetWord}`);
                            gameOver = true;
                        }, 2000);
                    } 
                    // Verificar si perdió
                    else if (currentRow === 5) {
                        setTimeout(() => {
                            showMessage(`Game Over. La palabra era: ${targetWord}`);
                            gameOver = true;
                        }, 2000);
                    }
                    
                    // Preparar siguiente intento
                    currentRow++;
                    currentCol = 0;
                    currentGuess = '';
                } else {
                    showMessage('Palabra no válida');
                }
            } else {
                showMessage('La palabra debe tener 5 letras');
            }
        }
        
        // Función para mostrar mensajes
        function showMessage(text) {
            const messageEl = document.getElementById('message');
            messageEl.textContent = text;
            setTimeout(() => {
                if (!gameOver) {
                    messageEl.textContent = '';
                }
            }, 2000);
        }
        
        // Capturar teclas del teclado
        document.addEventListener('keydown', function(event) {
            const key = event.key.toLowerCase();
            
            // Prevenir comportamiento por defecto para teclas especiales
            if (key === 'backspace' || key === 'enter') {
                event.preventDefault();
            }
            
            // Solo permitir letras del alfabeto español
            if (key >= 'a' && key <= 'z' && key.length === 1) {
                addLetter(key);
            }
            // Tecla Backspace para borrar
            else if (key === 'backspace') {
                deleteLetter();
            }
            // Tecla Enter para enviar
            else if (key === 'enter') {
                submitGuess();
            }
        });
        
        // Inicializar el juego cuando se carga la página
        document.addEventListener('DOMContentLoaded', function() {
            initBoard();
            selectRandomWord();
            showMessage('¡Adivina la palabra de 5 letras!');
        });
    </script>
</body>
</html>